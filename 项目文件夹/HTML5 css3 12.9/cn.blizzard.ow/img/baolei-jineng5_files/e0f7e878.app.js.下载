function _typeof(a){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}!function(a,b){b(a)}(this,function(a){function b(){this.extend=function(a){_.merge(this,a)}}return a.app=a.app||new b}),!function(a,b){b(a)}(this,function(a){function b(){this.extend=function(a){_.merge(this,a)}}return a.overwatch=a.overwatch instanceof b?a.overwatch:new b}),!function(a,b){b(a,a.overwatch)}(this,function(a,b){function c(){var b=this,c=a.document,d=a.document.body;this.width=function(){return a.innerWidth||c.documentElement.clientWidth||d.clientWidth},this.height=function(){return a.innerHeight||c.documentElement.clientHeight||d.clientHeight},this.sizes=function(){var a=b.width();return{xs:400>a,sm:a>=400&&768>a,md:a>=768&&992>a,lg:a>=992&&1300>a,xl:a>=1300&&1600>a,xxl:a>=1600}},this.mobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobi/i.test(window.navigator.userAgent)},this.touch=function(){return"ontouchstart"in window||window.navigator.MaxTouchPoints>0||window.navigator.msMaxTouchPoints>0},this.vendor=function(){var a=null,b=c.documentElement.style;return _.each(["webkit","Moz","ms","O"],function(c){void 0!==b[c+"Transform"]&&(a=c)}),a},this.size=function(){var a=null;return _.each(b.sizes(),function(b,c){b&&(a=c)}),a},this.ie=function(){var b=a.navigator.userAgent,c=/MSIE \d/.test(b),d=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.test(b);return c||d},this.browser=function(){var c=a.navigator.userAgent,d=a.navigator.vendor,e=/gecko\/\d/i.test(c),f=/Chrome\//.test(c),g=/Apple Computer/.test(d),h=/Edge/.test(c);return{ie:b.ie(),gecko:e,chrome:f,safari:g,edge:h}},this.posX=function(){return a.pageXOffset||a.scrollX||d.scrollLeft||c.documentElement.scrollLeft},this.posY=function(){return a.pageYOffset||a.scrollY||d.scrollTop||c.documentElement.scrollTop},this.scroll=function(){return d.scrollHeight>d.clientHeight&&"fixed"!==d.style.position},this.vw=function(a){return b.width()/100*a},this.vh=function(a){return b.height()/100*a}}return b.extend({util:new c}),b.util}),!function(a,b){b(a.overwatch,a.localStorage)}(this,function(a,b){function c(){this.available=function(){return b?!0:!1},this.set=function(a,c){b.setItem(a,JSON.stringify(c))},this.get=function(a){return JSON.parse(b.getItem(a))},this.remove=function(a){b.removeItem(a)},this.clear=function(){b.clear()}}return a.extend({storage:new c}),a.storage}),!function(a,b){b(a,a.overwatch)}(this,function(a,b){function c(){function c(){k.on("click.blackout",function(a){a.stopPropagation(),f.hide()})}function d(){h||(h=1,k.trigger("show"),k.toggleClass("open",!0),c(),g=i.scrollTop(),j.css({position:"fixed",marginTop:-g+"px"}))}function e(){h&&(h=0,k.trigger("hide"),k.toggleClass("open",!1),j.css({position:"",marginTop:""}),i.scrollTop(g),k.off("click.blackout"),g=0)}var f=this,g=(b.util,0),h=0,i=$(a),j=$("body"),k=$('<div class="blackout" blackout />').appendTo(j);this.show=d,this.hide=e,this.open=d,this.close=e,this.on=function(){k.on.apply(k,arguments)},this.off=function(){k.off.apply(k,arguments)},this.one=function(){k.one.apply(k,arguments)}}return b.extend({blackout:new c}),b.blackout}),!function(a,b){b(a,a.overwatch)}(this,function(a,b){function c(){function b(){m.one("click.lightbox",function(a){a.stopPropagation(),i.hide(),m.trigger("lightbox.background")}),t.one("click.lightbox",function(a){a.stopPropagation(),i.hide(),m.trigger("lightbox.x")}),n.on("click.lightbox",function(a){a.stopPropagation()}),k.on("keyup.lightbox",function(a){var b=a.which;/37|39|32|27/.test(b)&&a.preventDefault(),27==b?(i.hide(),m.trigger("key.esc")):37==b?m.trigger("prev"):39==b?m.trigger("next"):32==b&&m.trigger("pause")})}function c(a,b){{var a=_.isPlainObject(a)?a:{},b=_.isFunction(a)?a:_.isFunction(b)?b:_.noop;$(a.content||null)}if("fluid"===a.size?m.toggleClass("fluid",!0):m.toggleClass("fluid",!1),a.controls?l.toggleClass("m-controls",!0):l.toggleClass("m-controls",!1),a.body){var c=$(a.body);c.length||(c=$("<div>",{html:a.body})),p.remove(),p=c.addClass("lightbox-content").appendTo(l)}a.header&&o.html(a.header),a.footer&&s.html(a.footer),b()}function e(){j||(j=1,d.show(),b(),m.toggleClass("open",!0),m.trigger("show")),c.apply(null,arguments)}function f(){j&&(j=0,d.hide(),k.off("keyup.lightbox"),m.toggleClass("open",!1),m.trigger("hide"),n.off("click.lightbox"))}function g(){p.remove(),p=$("<div>"),o.empty(),s.empty()}function h(){q.on("click.lightbox",function(a){a.preventDefault(),m.trigger("prev")}),r.on("click.lightbox",function(a){a.preventDefault(),m.trigger("next")})}var i=this,j=0,k=$(a),l=$("body"),m=$('<div class="lightbox" lightbox="main"></div>').appendTo(l),n=$('<div class="lightbox-container"></div>').appendTo(m),o=$('<div class="lightbox-header"></div>').appendTo(n),l=$('<div class="lightbox-body"></div>').appendTo(n),p=$('<div class="lightbox-content"></div>').appendTo(l),q=$('<a href="#" class="lightbox-prev"></a>').appendTo(l),r=$('<a href="#" class="lightbox-next"></a>').appendTo(l),s=$('<div class="lightbox-footer"></div>').appendTo(n),t=$('<div class="lightbox-close"></div>').appendTo(m);this.set=c,this.show=e,this.hide=f,this.open=e,this.close=f,this.empty=g,this.on=function(){m.on.apply(m,arguments)},this.off=function(){m.off.apply(m,arguments)},this.one=function(){m.one.apply(m,arguments)},h()}var d=b.blackout;return b.extend({lightbox:new c}),b.lightbox}),!function(a,b){b(a,a.overwatch)}(this,function(a,b){function c(a,b){function c(){l.toggleClass(m,!1),i.player.stopVideo&&i.player.stopVideo(),i.player.clearVideo&&i.player.clearVideo(),i.player.destroy&&i.player.destroy(),i.player=null,i.$root.empty(),g[j]=null}function d(){var b=e.browser();l.toggleClass("unstarted",!0),l.toggleClass("m-mobile",e.mobile()),l.toggleClass("m-touch",e.touch()),l.toggleClass("m-edge",b.edge),l.toggleClass("m-ie",b.ie),l.toggleClass("m-chrome",b.chrome),l.toggleClass("m-safari",b.safari),l.toggleClass("m-gecko",b.gecko),_.each(a.build,function(b,c){b&&l.append(k[c]=a.templates[c].call(i))}),k.$video.on("load",function(){l.toggleClass("loading",!1)}),g[j]=i}var i=this,b=b||_.noop,a=_.merge({},h,a),j=f++,k={},l=$(a.elem),m=null;this.id=a.id,this.loaded=0,this.loading=1,this.state=m,this.uid=j,this.opts=a,this.$root=l,this.destroy=c,this.elems=k,this.on=function(){l.on.apply(l,arguments)},this.off=function(){l.off.apply(l,arguments)},this.one=function(){l.one.apply(l,arguments)},d()}function d(){function a(a,b){return new c(a,b)}function b(a){return a.destroy?a.destroy():void 0}function d(b){$("[video]").each(function(){a({elem:this,id:$(this).attr("video")},b)})}function e(a){return g[a]}function f(a){return _.merge(h,a)}function i(){}this.create=a,this.destroy=b,this.createAll=d,this.get=e,this.set=f,i()}var e=b.util,f=(b.lightbox,0),g={},h={id:null,states:{"-1":"unstarted",0:"ended",1:"playing",2:"paused",3:"buffering",5:"video-cued"},params:{autoplay:1,autohide:1,controls:1,modestbranding:1,showinfo:1,version:3,enablejsapi:1,wmode:"transparent",rel:0},build:{$play:!1,$poster:!1,$video:!0},templates:{$play:function(){var a=this,b=$("<div>",{addClass:"play",on:{click:function(){a.loaded?a.player.playVideo():a.one("ready",function(){a.player.playVideo()})}}});return b},$poster:function(){return $('<div class="poster">')},$video:function(){var a=this,b=$('<video class="video" style="position:absolute;left:0;width:100%;height:100%" controls autoplay width="100%" height="100%"><source src="'+a.id+'" type="video/mp4"></source></video>');return b}}};return b.extend({video:new d}),b.video}),!function(a,b){"function"==typeof define&&define.amd?define("overwatch-ability-showcase",["overwatch","jQuery"],b):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=b(require("overwatch","jQuery")):a.overwatch.AbilityShowcase=b(a.overwatch,a.jQuery)}(this,function(a,b){function c(a){var c=b(a);this.$videos=c.find("video"),this.videos=this.$videos.get(),this.$abilityName=c.find(f),this.$abilityButtons=c.find(g),this.$abilityButtonsList=c.find(h),this.$currentProgressSvg=null,this.currentVideo=null,this.abilities=e(this.$abilityButtons),this.length=this.videos.length,this.currentIndex=0,this.nextIndex=null}function d(a){return a.currentTime/a.duration}function e(a){return b.map(a,function(a){var c=b(a);return{name:c.data("ability-name")}})}var f=".ability-name",g=".ability-showcase-button",h=".ability-button-list",i=".progress-svg",j="is-active";return c.prototype.init=function(){var a=this;a.$videos.on("ended",function(){a.play(a.getNextIndex())}),a.$videos.on("playing",function(){var b=1e3*a.currentVideo.duration;a.$currentProgressSvg.velocity({strokeDashoffset:[0,314]},b,"linear")}),a.$videos.on("timeupdate",function(){if(null===a.nextIndex&&a.length>1){var b=d(this);b>.5&&a.queue(a.getNextIndex())}}),a.$abilityButtonsList.on("click","li",function(){var c=b(this).index();a.play(c)}),1==a.length&&(a.currentIndex=0),a.load(a.currentIndex),a.play(a.currentIndex)},c.prototype.getNextIndex=function(){return 1==this.length?0:null!==this.nextIndex?this.nextIndex:this.currentIndex+1},c.prototype.displayPlay=function(a){a%=this.length;var b=this.abilities[a];this.$abilityName.text(b.name),this.$abilityButtons.eq(a).addClass(j),this.$videos.eq(a).addClass(j),this.currentVideo=this.videos[a],this.$currentProgressSvg=this.$abilityButtons.eq(a).find(i)},c.prototype.displayStop=function(a){a%=this.length,this.$abilityButtons.eq(a).removeClass(j),this.$videos.eq(a).removeClass(j),this.$abilityButtons.eq(a).find(i).velocity("stop").velocity({strokeDashoffset:314},0)},c.prototype.play=function(a){this.stop(this.currentIndex),this.currentIndex=void 0===a?this.currentIndex:a%this.length,this.reset(this.currentIndex),this._play(this.currentIndex),this.nextIndex=null},c.prototype.stop=function(a){return void 0===a?void this._stopAll():(a%=this.length,this.videos[a].pause(),void this.displayStop(a))},c.prototype.reset=function(a){a%=this.length,4===this.videos[a].readyState&&(this.videos[a].currentTime=0)},c.prototype.queue=function(a){null===this.nextIndex&&(a%=this.length,this.nextIndex=a,this.load(a))},c.prototype.load=function(a){a%=this.length,this.videos[a].load()},c.prototype._play=function(a){a%=this.length,this.videos[a].play(),this.displayPlay(a)},c.prototype._stopAll=function(){for(var a=0;a<this.length;a++)this.stop(a)},a.extend({AbilityShowcase:c}),c}),!function(a,b){b(a.overwatch)}(this,function(a){function b(){function a(a,b){var b=_.merge({duration:300,easing:"easeOutCirc"},b);a.velocity({translateX:["+=100%","-100%"],translateZ:0},b)}function b(a,b){var b=_.merge({duration:300,easing:"easeOutCirc"},b);a.velocity({translateX:["-=100%",0],translateZ:0},b)}this.slideInLeft=a,this.slideOutLeft=b}return a.extend({animate:new b}),a.animate}),!function(a,b){b(a,a.jQuery,a.overwatch)}(this,function(a,b,c){var d={defaults:{numToShow:1,numToSlide:1,animationDuration:500,autoScroll:!1,timePerSlide:5e3,loop:!0,pagination:!0,slideWidth:0,gutter:12},item_width:0,klass:"carousel",mask_klass:"carousel-mask",wrapper_klass:"carousel-wrapper",slide_klass:"carouse-slide",pagination_klass:"carousel-pagination",page_klass:"carousel-page",init:function(a,b){this.options=_.merge({},this.defaults,b);var b=this.options;this.element=a,this.setup(),this.calculateDimensions(),this.addElements(),this.setupEvents(),b.autoScroll&&this.startSliding()},setup:function(){var a=this.options;this.element.addClass(this.klass),this.defineObjects(),a.pagination&&(this.pagination=this.buildPagination()),a.slideWidth&&(this.item_width=a.slideWidth)},defineObjects:function(){var a=this.options;this.wrapper=this.element.children("ul").addClass(this.wrapper_klass),this.items=this.wrapper.children("li"),this.pages=Math.ceil(this.items.length/a.numToSlide),this.mask=b("<div/>").addClass(this.mask_klass),this.duration=a.animationDuration},buildPagination:function(){for(var a=this.options,c=1,d=b("<ul/>").attr("class",this.pagination_klass),e="";c<=this.pages-(a.numToShow-a.numToSlide);)e+='<li class="'+this.page_klass,1===c&&(e+=" is-active"),e+='" data-page="'+c+'"',e+=">&nbsp</li>",c++;return d.html(e),d},calculateDimensions:function(){var a=this.options,b=this;this.items.addClass(b.slide_klass),1===a.numToShow?this.items.css("margin",0):this.items.css("margin","0 "+a.gutter+"px"),0===this.item_width&&(this.item_width=this.items.first().outerWidth(!0)),this.maxHeight=this.items.first().outerHeight(!0),this.mask.css({width:this.item_width*a.numToShow,height:this.maxHeight}),this.wrapper.css("width",this.item_width*this.items.length)},addElements:function(){var a=this.options;this.mask=this.wrapper.wrap(this.mask).parent(),a.pagination&&this.element.append(this.pagination)},setupEvents:function(){this.element.on("click","."+this.page_klass,{self:this},this.pageHandler)},pageHandler:function(a){{var c=a.data.self,d=b(this);c.options}a.preventDefault(),c.gotoPage=d.data("page"),c.slide()},slide:function(a,b){var c=this;this.stopSliding(),a&&"number"==typeof a&&(this.gotoPage=a),"number"==typeof b&&(this.duration=b),this.slideAmount=this.getSlideAmount(),this.wrapper.velocity({left:this.slideAmount},this.duration,function(){c.callback()})},callback:function(){var a=this.options;if(a.pagination){var c=this.pagination.find("li");c.removeClass("is-active");var d=c.get(this.gotoPage-1);b(d).addClass("is-active")}this.duration=a.animationDuration},getSlideAmount:function(){var a=this.options;return-(this.item_width*a.numToSlide*(this.gotoPage-1))},startSliding:function(a){var b=this,c=b.options;a&&"number"==typeof a&&(c.timePerSlide=a),this.interval=setInterval(function(){b.gotoPage++,b.slide()},c.timePerSlide)},stopSliding:function(){clearInterval(this.interval)}};c.extend({carousel:d})}),!function(a,b){b(a,a.overwatch)}(this,function(a,b){function c(a){return a.gallery?[$("<h1>",{addClass:"gallery-title",html:a.data.data.category}),$("<p>",{addClass:"gallery-index",html:a.index+1+" / "+a.gallery.length})]:void 0}function d(a){return"wallpaper"==a.type?$("<div>",{addClass:"media-sub-content m-"+a.type,html:function(){var b=[];return _.each(a.data.data.wallpaper,function(a,c){"urlFacebook"!=c&&"urlTwitter"!=c&&b.push($("<a>",{addClass:"wallpaper-icon m-"+c.toLowerCase(),attr:{href:a,target:"_blank"},html:[$("<span>",{html:k.wallpaper[c].title}),$("<span>",{html:k.wallpaper[c].dimensions})]}))}),b}()}):$("<p>",{addClass:"media-name",html:a.data.data.name})}function e(b){function e(){if("youtube"==n){var b=$("<div video>");k.video=j.create({elem:b,id:l.youtubeId},function(a){a.player.playVideo()}),i.set({body:b,header:c(k),footer:d(k),controls:k.gallery.length>1})}else if("pdf"==n||"link"==n){var e=a.open(l.url,"_blank");e&&e.focus()}else if("wallpaper"==n){var f=$("<a>",{addClass:"media-item m-"+n+" m-"+k.data.category,attr:{href:l.url||l.wallpaper.urlStandard,target:"_blank"},css:{backgroundImage:"url("+(l.url||l.wallpaper.urlStandard)+")"}});i.set({body:f,header:c(k),footer:d(k),controls:k.gallery.length>1})}else{var f=$("<a>",{addClass:"media-item m-"+n+" m-"+k.data.category,attr:{href:l.url,target:"_blank"},css:{backgroundImage:"url("+l.url+")"}});i.set({body:f,header:c(k),footer:d(k),controls:k.gallery.length>1})}}function f(){"youtube"==k.data.type&&(k.video&&k.video.destroy(),k.video=null),i.empty()}function g(){o.on("click",".media-content",function(a){/video_youtube|pdf|link/.test(n)&&(h.mobile()||h.touch())||(a.preventDefault(),o.trigger("open",k))})}{var k=this,b=_.merge({},m,b),l=b.data.data,n=l.type.toLowerCase(),o=$(b.elem);b.gallery}this.attach=e,this.detach=f,this.data=b.data,this.index=b.index,this.id=b.id,this.gallery=b.gallery,this.$elem=o,this.type=n,this.on=function(){o.on.apply(o,arguments)},this.off=function(){o.off.apply(o,arguments)},this.one=function(){o.one.apply(o,arguments)},g()}function f(a){function b(){i.on("prev",j),i.on("next",k),i.on("pause",m),i.on("hide",h)}function c(a){var b;p[a.id]||(_.merge(a,{index:u++,elem:a.elem||r[a.id],gallery:o}),b=p[a.id]=new e(a),"pdf"!==b.type&&(b.result=q.push(b)-1),b.on("open",function(a,b){g(b)}),o.length++)}function d(a){return a instanceof e?a:p[a]||q[a]}function f(a){var a=d(a);t&&t.detach(),a&&(t=a,t.attach())}function g(a){var a=d(a);f(a),"pdf"!==a.type&&"link"!==a.type&&(v||(o.isOpen=v=1,b(),i.open({controls:q.length>1})))}function h(){t&&t.detach(),v&&(o.isOpen=v=0,i.off("prev",j),i.off("next",k),i.off("pause",m),i.off("hide",h))}function j(){var a=t.result>0?t.result-1:q.length-1;f(q[a])}function k(){var a=t.result<q.length-1?t.result+1:0;f(q[a])}function m(){var a=t.video.player;a&&("playing"===t.video.state?a.pauseVideo():a.playVideo())}function n(){s.find("[media]").each(function(){var a=$(this).attr("media");r[a]=this})}var o=this,p={},q=[],r={},a=_.merge({},l,a),s=$(a.elem),t=null,u=0,v=0;this.add=c,this.prev=j,this.next=k,this.pause=m,this.close=h,this.open=g,this.to=f,this.get=d,this.length=0,this.isOpen=0,n()}function g(){function a(a){return a.uid=d++,e[a.id]=new f(a)}function b(a){return e[a]}function c(){$("[media-gallery]").each(function(){a({elem:this,id:$(this).attr("media-gallery")})})}var d=0,e={};this.create=a,this.get=b,c()}var h=b.util,i=b.lightbox,j=b.video,k=a.messages,l={elem:null},m={id:null,elem:null,data:{},gallery:null,index:null,result:null};return b.extend({Media:e,gallery:new g}),b.gallery}),!function(a,b){b(a.overwatch)}(this,function(){function a(){function a(a){var c=a.timeToHideMs,d=a.menuSelector;setTimeout(function(){$(d).addClass("is-hidden")},c);var e=$("section"),f=$(e[0]).attr("id");$(d+" ."+f).addClass("active"),$(window).on("scroll",function(){requestAnimationFrame(function(){b(d)})}),$(window).on("touchmove",function(){requestAnimationFrame(function(){b(d)})}),$(d+" li a").smoothScroll({easing:"easeOutCirc",speed:300,offset:-72})}function b(a){$(a+" li").removeClass("active");for(var b=$(window),d={top:b.scrollTop(),left:b.scrollLeft(),right:this.left+b.width(),bottom:this.top+b.height()},e=$("section"),f=0;f<e.length;f++)if(c(e[f],d)){$(a+" ."+$(e[f]).attr("id")).addClass("active");break}}function c(a,b){var c=$(a),d=c.offset().top,e=c.offset().left,f=e+c.width(),g=d+c.height(),h=!(e>b.right||f<b.left||d>b.bottom||g<b.top);return h}return{init:a}}return $.extend(jQuery.easing,{easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c}}),overwatch.extend({menuScroll:new a})}),!function(a,b){b(a,a.overwatch)}(this,function(a,b){function c(){function a(){f&&(f=0,h.velocity("stop",!0),h.velocity({top:-44},{duration:200,easing:"easeOutCirc"}))}function b(){f||(f=1,h.velocity("stop",!0),h.velocity({top:0},{duration:200,easing:"easeOutCirc"}))}function c(){e||(e=1,g.velocity("stop",!0),g.velocity({marginTop:0,marginLeft:0,marginRight:0},{duration:100,easing:"easeOutCirc"}))}function d(){e&&(e=0,g.velocity("stop",!0),g.velocity({marginTop:20,marginLeft:20,marginRight:20},{duration:100,easing:"easeOutCirc"}))}{var e=0,f=1,g=$("nav[role=main]"),h=($("nav[role=mobile]"),$(".navbars"));$(".nav-mobile-menu-wrap.right")}this.hideBnet=a,this.showBnet=b,this.expandNav=c,this.contractNav=d}b.util;return b.extend({nav:new c}),b.nav}),!function(a,b){b(a,a.overwatch)}(this,function(a,b){function c(){return i.set("promo",m)}function d(a){m[a.id]=a,c()}function e(b){function c(){return b.start<=l&&b.end>l}function e(){p.on("resize.promo",_.throttle(function(){g.width()<768&&k()},32)),h.one("lightbox.x.promo",function(){j&&j.push({event:"overlay-dismiss","analytics.eventPlacement":"X"})}),h.one("lightbox.background.promo",function(){j&&j.push({event:"overlay-dismiss","analytics.eventPlacement":"Background"})}),h.one("key.esc.promo",function(){j&&j.push({event:"overlay-dismiss","analytics.eventPlacement":"Escape"})}),h.one("hide.promo",function(){k()})}function f(){p.off("resize.promo"),h.off("hide.promo")}function i(){q||(q=1,o.count++,d(o),e(),h.open({body:b.elem}))}function k(){q&&(q=0,f(),h.close(),h.empty())}function m(){d(o)}var o=this,b=_.defaults(b,n),p=$(a),q=0;this.start=b.start,this.end=b.end,this.elem=b.elem,this.id=b.id,this.open=i,this.close=k,this.check=c,this.count=b.count,m()}function f(){function a(a){return d[a]}function b(a){var b=$(a.elem),c=a.id||b.attr("promo");if(!d[c]){var f=new e({elem:a.elem,id:c,start:a.start||b.attr("promo-start"),end:a.end||b.attr("promo-end"),count:m[c]?m[c].count:0});d[c]=f}}function c(){$("[promo]").each(function(){b({elem:this})}),!g.mobile()&&g.width()>768&&!/promo=false/.test(k)&&_.find(d,function(a){return a.count<1&&a.check()?(a.open(),j&&j.push({event:"overlay.load"}),!0):void 0})}var d={};this.get=a,this.create=b,c()}var g=b.util,h=b.lightbox,i=b.storage,j=a.dataLayer,k=a.location.search,l=Math.floor(Date.now()/1e3),m=i.get("promo")||{},n={end:null,start:null,elem:null,id:null,count:0};return b.extend({promo:new f}),b.promo}),!function(a,b){b(a,a.overwatch)}(this,function(a,b){function c(a){function b(){e||(e=1,a.trigger("open"),h.one("hide.slide-menu",c),a.velocity("stop",!0),g.slideInLeft(a,{begin:function(){f++,1>=f&&h.open()}}))}function c(){e&&(e=0,a.trigger("close"),h.off("hide.slide-menu"),a.velocity("stop",!0),g.slideOutLeft(a,{begin:function(){1>=f&&h.close()},complete:function(){f--}}))}function d(){a.find(".close, [close]").on("click",function(){c()})}var e=0;d(),this.open=b,this.close=c,this.on=function(){return a.on.apply(a,arguments)},this.off=function(){return a.off.apply(a,arguments)},this.one=function(){return a.one.apply(a,arguments)}}function d(){function b(a){return a?e[a].open():void _.each(e,function(a){a.open()})}function d(a){return a?e[a].close():void _.each(e,function(a){a.close()})}function f(a,b){var a=$(a),b=b||a.attr("slide-menu"),d=new c(a,b);return e[b]=d}function g(){$("[slide-menu]").each(function(){f(this)}),$("[slide-menu-open]").on("click",function(){var a=$(this).attr("slide-menu-open");b(a)}),$("[slide-menu-close]").on("click",function(){var a=$(this).attr("slide-menu-close");d(a)}),$(a).on("keyup.slide-menu",function(a){27===a.which&&d()})}g(),this.open=b,this.close=d,this.create=f,this.cache=e}var e={},f=0,g=b.animate,h=b.blackout;return b.extend({menu:new d}),b.menu}),!function(a,b){b(a.overwatch,a.jQuery)}(this,function(a,b){function c(a){this.$spotlight=b(a),this.$holder=this.$spotlight.find("."+e),this.$header=this.$spotlight.find("."+d),this.$caption=this.$spotlight.find("."+f),0===this.$header.length,0===this.$holder.length}var d="header",e="holder",f="caption";return c.prototype.setHeader=function(a){this.$header.text(a)},c.prototype.setCaption=function(a){this.$caption.text(a)},c.prototype.loadImage=function(a,c){var d=this;this._startTransition(),a=encodeURI(a),b("<img/>").attr("src",a).load(function(){b(this).remove(),d._setImage(a),d._endTransition(),c&&c()})},c.prototype._setImage=function(a){this.$holder.css("background-image","url("+encodeURI(a)+")")},c.prototype._startTransition=function(){this.$spotlight.velocity("stop").velocity({opacity:0},{duration:100,easing:"easeOutQuad"})},c.prototype._endTransition=function(){this.$spotlight.velocity("stop").velocity({opacity:[1,0]},{duration:100,easing:"easeOutQuad"})},a.extend({Spotlight:c}),c}),!function(a,b){b(a.overwatch)}(this,function(a){function b(b,c,d){function e(){return this.exec<1?!0:!1}function f(a){return a.replace(/-([a-z])/g,function(a){return a[1].toUpperCase()})}function g(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function h(){return["tags",f(b)].join(".")}function i(a){return{created:a.created,exec:a.exec}}function j(a,b){return{$elem:$(a),created:b&&b.created||(new Date).getTime(),exec:b&&b.exec||0}}function k(){return w.get(h())||{}}function l(){for(var a=k(),b=Object.keys(u),c=0;c<b.length;c++){var d=u[b[c]];a[b[c]]=i(d)}w.set(h(),a)}function m(a){var b=a.rule||e;return b.call(a)}function n(a){var a=f(a),b=u[a],c=v[a];m(b)&&(c.call(b,b.$elem,b.exec,b.created),b.exec++,l())}function o(a){for(var b=document.querySelectorAll("["+g(a)+"]"),c=k(),d=0;d<b.length;d++){var e=b[d],h=e.getAttribute(g(a)),i=c[f(h)];u[f(h)]=j(e,i)}}function p(a,b){var a=f(a),c=u[a];c&&b.rule&&(c.rule=b.rule),c&&b.callback&&(v[a]=b.callback,c.trigger=function(){n(a)},c.trigger())}function q(a){for(var b=Object.keys(a),c=0;c<b.length;c++)p(b[c],a[b[c]])}function r(a){a instanceof Function&&(e=a)}function s(){d&&d.clearStorage&&w.remove(h()),d&&d.defaultRule&&r(d.defaultRule),o(b),q(c),a.tags?null:a.tags={},a.tags[f(b)]=t,t.cache=u,t.add=q,t.trigger=n,t.setDefaultRule=r,l()}var t=this,u={},v={},w=a.storage;s()}return a.extend({Tag:b}),a.Tag}),!function(a,b){b(a,a.overwatch)}(this,function(a,b){function c(){}return b.extend({waypoint:new c}),b.waypoint}),function(a,b){"function"==typeof define&&define.amd?define("overwatch-hero-selector",["overwatch","shuffle"],b):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=b(require("overwatch","shuffle")):a.overwatch.HeroSelector=b(a.overwatch,a.jQuery,a.shuffle)}(this,function(a,b){function c(){this.init=function(a){var c=this;c.$grid=a.$container;a.$sizer;c.$navigationLinks=a.$navigationLinks,c.itemSelector=a.itemSelector,c.$grid.shuffle({itemSelector:c.itemSelector,speed:200,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"}),c.largestOrder=function(){var a=0;return b.each(b(c.itemSelector),function(c,d){a<b(d).data("order")&&(a=b(d).data("order"))}),a}(),c.$navigationLinks.on("click",function(){var a=b(this).data("filter-key");c.filter(a)})}}c.prototype.filter=function(a){var c=this;if(window.location.hash=a.toLowerCase(),c.$navigationLinks.parent().removeClass("active"),b('[data-filter-key="'+a+'"]',c.$navigationLinks.parent()).parent().addClass("active"),"all"===a){b(c.itemSelector).children().removeClass("m-subdued m-selected");var d={}}else var d={reverse:!0,by:function(d){var e=b(d.children()[0]);return e.removeClass("m-subdued m-selected"),d.data("groups")[0]===a?(e.addClass("m-selected"),c.largestOrder-d.data("order")):(e.addClass("m-subdued"),~d.data("order"))}};this.$grid.shuffle("sort",d)};var d=new c;return d}),!function(a,b){b(a,a.app,a.jQuery)}(this,function(a,b,c){function d(){this.loadVideoIntoFrame=function(a){var b=f.create({elem:c("<div video>"),id:a},function(a){a.player.playVideo()});g.open({body:b.$root}),e.lightbox.one("hide",function(){b.destroy(),g.empty()})},this.loadImageIntoFrame=function(a){e.lightbox.open({body:c("<div>",{html:'<img src="'+a+'" />',addClass:"img-embed"}),size:"fluid"})}}var e=a.overwatch,f=e.video,g=e.lightbox;return b.extend({helpers:new d}),b.helpers}),function(a,b){function c(a,b){var c=0,d=[];for(var e in heroAbilities){var f=heroAbilities[e],g={};g.title=f.title,g.subtitle=f.subtitle,g.description=f.description,g.sources=[{type:"video/webm",src:f.sources.webm},{type:"video/mp4",src:f.sources.mp4}],g.contentClass="hero-"+a,g.autoplay=!0,d.push(g),b===e&&(c=d.length-1)}return[d,c]}var d={init:function(){function a(){d.mobileVideo.each(function(a,b){$(b).children("video").get(0).pause()})}d.desktopVideo=$(".abilities .ability-video.desktop-video"),d.videoOverlay=$(".abilities .video-overlay"),d.mobileVideo=$(".ability-video.mobile-video"),d.videoOverlay.hover(function(){$(this).siblings("video")[0].play()},function(){$(this).siblings("video")[0].pause(),$(this).siblings("video")[0].load()}),d.desktopVideo.on("click",function(){if("8"!==b.util.ie()){var a=$(this).data("hero"),d=$(this).data("ability"),e=c(a,d),f=e[0],g=e[1];Lightbox.loadHTML5Video(f,g)}}),b.util.mobile()===!0&&MediaQuery.onDesktop(function(){document.exitFullscreen(),a()})}};a.Abilities=d}(window,window.overwatch),function(a,b){var c=b.util,d={init:function(a){var b=a.$videoWraps,d=$(".gameplay-video-wrapper.desktop-only .video-wrap");d.on("click",function(){Lightbox.loadEmbed([{title:$(this).data("title"),src:$(this).data("yt-id"),contentClass:$(this).id,type:"youtube"}])});var e=$(".section.game .yt-container .video-wrap");e.each(function(a,b){YtEmbedder.load($(b))}),c.ie()&&c.ie()<=8&&c.VideoPoster(b)}};a.GamePlayVideo=d}(window,window.overwatch),!function(a,b,c){function d(){new Parallax(e.find(".scene")[0],f)}var e=(c.util,$("[hero-scene]")),f={scalarX:1,scalarY:1,frictionX:1,frictionY:1};b.extend({heroScene:{init:d}})}(this,this.app,this.overwatch),function(a,b){var c=function(){function a(a){var e=a.$section,f=a.$overlay,g=a.$overlayText,h=a.$overlayTextBorder,i=a.$overlayWrap,j=a.$selectionWrap,k=a.classLoaded;j.on("mouseenter",".selection-link",function(){var a=$(this),j=a.data("hero-slug"),l=a.data("hero-role"),m=a.data("hero-role-id"),n=a.data("hero-overlay");"undefined"==j||b.util.mobile()||(e.addClass("overlay-ready"),f.attr("style",""),i.addClass("loading"),c.currentHero=j,d(n,j,function(a,b){c.currentHero==b&&(i.removeClass("loading"),f.attr("style","background-image:url("+a+")"))}),e.addClass(k),g.find("h2").html(j),g.find("i").attr("class","icon role-"+m),g.find("p").text(l),g.addClass(k),h.addClass(k))}),j.on("mouseleave",".selection-link",function(){e.removeClass(k),g.removeClass(k),h.removeClass(k),i.removeClass("loading")}),$(".selection-item.is-highlighted").each(function(a,b){var c=$(b);c.find(".selection-link").each(function(a,b){var d=c;$(b).on("mouseenter",function(){d.removeClass("is-highlighted"),$(this).off("mouseenter")})})})}function d(a,b,c){var d=new Image;$(d).load(function(){c&&c(d.src,b)}),d.src=a}return{init:a}}();a.HeroSelect=c}(window,window.overwatch),function(a,b){var c={init:function(a){var c=a.$ytVideoWraps,d=a.$videoWraps,e=a.$characterDemoVideo,f=$(".btn-abilities");e.on("click",function(){Lightbox.loadEmbed([{title:$(this).data("hero"),src:$(this).data("yt-id"),type:"youtube"}])}),c.each(function(a,b){YtEmbedder.load($(b))}),f.on("click",function(){return $.smoothScroll({scrollTarget:"#abilities"}),!1}),"8"===b.util.ie()&&b.util.VideoPoster(d)}};a.HeroSummary=c}(window,window.overwatch),!function(a,b,c){function d(){var b=[],c="38,38,40,40,37,39,37,39,66,65",d=$(a.document),g=$("body");d.on("keydown",function(a){b.push(a.keyCode),b.toString().indexOf(c)>=0&&(g.addClass("konami"),d.off("keydown",arguments.callee),d.trigger("konami"))}),d.one("konami",function(){!e.mobile()&&!e.touch()&&e.width()>768&&(g.append('<div class="egg" id="egg-particles">'),particlesJS("egg-particles",f))})}var e=c.util,f={particles:{number:{value:50,density:{enable:!0,value_area:800}},color:{value:"#fff"},shape:{type:"image",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5}},opacity:{value:.5,random:!0,anim:{enable:!0,speed:1,opacity_min:.1,sync:!1}},size:{value:30,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!1,distance:100,color:"#ffffff",opacity:.4,width:2},move:{enable:!0,speed:1,direction:"bottom",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"bubble"},onclick:{enable:!1,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:.5}},bubble:{distance:400,size:4,duration:.3,opacity:1,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0};d()}(this,this.app,this.overwatch),function(a){var b=function(){function a(a){var b=a.$desktopTrailers,c=a.$mobileTrailers,d=[];b.each(function(a){d.push({title:$(this).data("title"),src:$(this).data("yt-id"),contentClass:$(this).id,type:"youtube",autoplay:!0}),$(this).on("click",function(){Lightbox.loadEmbed(d,a)})}),c.each(function(a,b){YtEmbedder.load($(b))})}return{init:a}}();a.LandingTrailers=b}(window,window.overwatch),function(a){var b=function(){function b(b){function c(a){i.toggleClass(k,a>44)}var d=$(a),e=b.$menuMainWrap,f=b.$menuMain,g=b.$socialMenuMain,h=b.$menuMainPin,i=b.$buyButtonWrap,j=b.hiddenClass,k=b.fixedClass,l=b.menuMainThreshold,m=0;d.on("scroll",function(){var a=d.scrollTop();if(a!==m){var b=a>l;b=b&&a>m,e.toggleClass(j,b),m=a}f.toggleClass(k,a>44),g.toggleClass(k,a>44),c(a)}),h.on("mouseenter",function(){e.removeClass(j)})}return{init:b}};a.MainMenu=b();

}(window,window.overwatch),function(){var a={section:null,navItem:null,mapPanel:null,mapList:null,mapItem:null,init:function(){function b(){a.scrollTo(window.location.hash.slice(1))}a.section=$(".map.section"),a.controls=$(".map-controls"),a.navItem=$(".map-nav-item"),a.navItemDesc=$(".map-nav-description"),a.mapItem=$(".map"),a.getMap(),a.navItem.on("click",function(){var b=$(this).attr("data-map-type"),c=$(".map-info[data-map-type='"+b+"']").find(".map-list").find(".map-name").first().attr("data-map");a.updatePanel(b,c)}),a.mapItem.on("click",function(){a.updatePanel($(this).closest(".map-info").attr("data-map-type"),$(this).attr("data-map"))}),setTimeout(b,500),$(window).on("hashchange",function(){b()}),$(window).on("popstate",function(){b()})},updatePanel:function(b,c){$(".map-nav-item").removeClass("active"),$(".map-nav-description").removeClass("active"),$(".map-info").removeClass("active"),$(".map-screen").removeClass("active"),$(".map-nav-item[data-map-type='"+b+"']").addClass("active"),$(".map-nav-description[data-map-type='"+b+"']").addClass("active"),$(".map-info[data-map-type='"+b+"']").addClass("active"),$(".map-name[data-map='"+c+"']").addClass("active"),$(".map-screen[data-map="+c+"]").addClass("active"),a.getMap()},getMap:function(){var b=$(".map-screen.active").attr("data-map"),c=$(".map-screen.active").attr("data-map-type");a.mapItem.removeClass("active"),$(".map-info[data-map-type='"+c+"']").find(".map[data-map='"+b+"']").addClass("active")},scrollTo:function(b){if(b){var c=a.mapItem.filter(["[data-map=",b,"]"].join(""));c[0]&&$("html, body").animate({scrollTop:$("#objectives").offset().top},200,function(){c.click()})}}};window.Maps=a}(window,window.overwatch),function(a){var b={init:function(){this.bindScreenshots(),this.bindArtwork(),this.bindVideos()},bindScreenshots:function(){var a=this;$(".web .screenshots-list a").bind("click",function(b){var c=$(this),d=a.getSectionList("screenshots"),e=a.indexOf(d,c,0);Lightbox.loadImage(d,e),b.preventDefault()})},bindArtwork:function(){var a=this;$(".web .artwork-list a").bind("click",function(b){var c=$(this),d=a.getSectionList("artwork"),e=a.indexOf(d,c,0);Lightbox.loadImage(d,e),b.preventDefault()})},bindVideos:function(){var a=this;$(".web .videos-list a").bind("click",function(b){var c=$(this),d=a.getSectionList("videos"),e=a.indexOf(d,c,0);Lightbox.loadEmbed(d,e),b.preventDefault()})},getSectionList:function(a){var b=[];return $("."+a+"-list li").each(function(){b.push($(this).data())}),b},indexOf:function(a,b,c){"undefined"==typeof c&&(c=-1);for(var d=$(b),e=0;e<a.length;e++)if(d.data("key")===a[e].key)return e;return c}};a.MediaLightbox=b}(window,window.overwatch),function(a,b){var c=function(){function c(b){a.addEventListener("orientationchange",b)}function d(a,b){var c=h(b);c&&c.addListener(function(b){return b.matches?a():void 0})}function e(a,b){var c=h(b);c&&c.addListener(function(b){return b.matches?void 0:a()})}function f(a,b){return d(a,b)}function g(a,b){return e(a,b)}function h(c){if(!a.matchMedia)return null;var c=c||k.defaultMediaQuery;return c=b.util.removeWhitespace(c),j[c]||i(c)}function i(c){return c=b.util.removeWhitespace(c),j[c]=a.matchMedia(c)}var j={},k={defaultMediaQuery:"(max-width: 760px)"};return{supported:"function"==typeof a.matchMedia,config:k,onOrientationChange:c,onMatch:d,onUnmatch:e,onMobile:f,onDesktop:g,getMql:h}};a.MediaQuery=c()}(window,window.overwatch,window.Utilities),function(a){var b={init:function(){this.triggerHover()},triggerHover:function(){$(".wallpaper-list .media-wrap").on("touchend",function(){$(this).addClass("hovered")})}};a.Media=b}(window,window.overwatch),!function(a,b){b(a,a.app,a.overwatch)}(this,function(a,b,c){var d=c.util,e=$(".news-panels");e.find(".grid-item.youtube").on("click","a",function(a){var c=$(this).attr("data-id");d.mobile()||d.touch()||(a.preventDefault(),b.helpers.loadVideoIntoFrame(c))})}),!function(a,b){b(a,a.app)}(this,function(a,b){function c(){this.shuffleArray=function(a){for(var b,c,d=a.length;0!==d;)c=Math.floor(Math.random()*d),d-=1,b=a[d],a[d]=a[c],a[c]=b;return a},this.removeWhitespace=function(a){return a.replace(/\s/g,"")},this.now=Date.now||function(){return(new Date).getTime()},this.once=function(a){var b;return function(){return a&&(b=a.apply(this,arguments),a=null),b}},this.debounce=function(a,b,c){var d,e,f,g,h,i=function j(){var i=Utilities.now()-g;b>i&&i>=0?d=setTimeout(j,b-i):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=Utilities.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},this.VideoPoster=function(a){for(var b=a.length-1;b>=0;b--){var c=$(a[b]),d=c.find("video"),e=d.attr("poster");c.css("background-image","url("+e+")")}}}return b.extend({util:new c}),b.util}),function(a,b){var c=(b.util,function(){return{defaultConfig:{fs:1,rel:0,showinfo:0,autohide:1,enablejsapi:1,modestbranding:1,wmode:"opaque"},queue:[],load:function(a,b,c){var d=this;this.queue.push(function(){return d.appendIframeTo(a,b,c)})},appendIframeTo:function(a,b,c){var b=b||this.defaultConfig,c=c||a.data("ytId"),d=$("<div>").appendTo(a).get(0);return new this.YT.Player(d,{videoId:c,playerVars:b})},init:function(){}}});a.YtEmbedder=new c,b.extend({YtEmbedder:new c})}(window,window.overwatch),window.overwatch=window.overwatch||{},window.overwatch.BuyMediator=function(){function a(a){e=a.Sku,f=a.Country,g=a.Platform,h=a.PrimaryRetailer,i=a.SecondaryRetailer,b(e.eventNameChange,function(a){g.updateList(a.id);var b=g.getCurrent(),c=f.getCurrent();h.setCurrentRetailerByPlatformAndSkuIdAndCountryCode(b,a.id,c),i.setCurrentRetailersByCountryCodeAndSkuIdAndPlatform(c,a.id,b)}),b(f.eventNameChange,function(a){e.updateList(a)}),b(g.eventNameChange,function(a){var b=e.getCurrent(),c=f.getCurrent();h.setCurrentRetailerByPlatformAndSkuIdAndCountryCode(a,b.id,c),i.setCurrentRetailersByCountryCodeAndSkuIdAndPlatform(c,b.id,a)}),b(h.eventNameChange,function(){}),b(i.eventNameChange,function(){})}function b(a,b,c){c=c||this;var e=d[a]=d[a]||[];e.push({context:c,callback:b})}function c(a){for(var b=d[a]||[],c=Array.prototype.slice.call(arguments,1),e=0;e<b.length;e++){var f=b[e],g=f.context,h=f.callback;h.apply(g,c)}}var d={},e=null,f=null,g=null,h=null,i=null;return{init:a,on:b,publish:c}}(window.overwatch),window.overwatch=window.overwatch||{},window.overwatch.CountryModel={Mediator:null,eventNameChange:null,current:null,$doc:$(document),init:function(a){this.Mediator=a.Mediator,this.eventNameChange=a.eventNameChange,this.current=a.current},getCurrent:function(){return this.current},setCurrent:function(a){this.current=a,this._publish()},_publish:function(){this.Mediator.publish(this.eventNameChange,this.current)}},function(a,b,c){overwatch.buy=overwatch.buy||{},overwatch.buy.navigation=overwatch.buy.navigation||{},overwatch.buy.navigation.init=function(){function d(){var a=j.width();return a>2560?(a-2560)/2:0}function e(a){var a=a||{duration:0},b=g[0].getBoundingClientRect();h.velocity({left:b.left-d(),width:g[0].clientWidth},a)}var f=c(".edition-select"),g=f.children(".active"),h=g.children(".active-splash"),i=a.overwatch.BuyMediator,j=a.overwatch.util;"undefined"!=typeof h[0]&&c(b).on("ready",function(){var j=h[0].getBoundingClientRect();h.velocity({left:j.left-d(),width:h[0].clientWidth},{duration:0,complete:function(){h=h.appendTo(f.parent())}}),i.on("ow.sku.change",function(a){g=f.find("[data-sku-change='"+a.id+"']"),e({duration:200,easing:"easeOutQuad"})}),c(a).on("resize",function(){e()}),c(b).on("ow.buy.form.show ow.buy.form.hide",function(){e()})})}}(window,window.document,window.jQuery),window.overwatch=window.overwatch||{},window.overwatch.PlatformModel={Mediator:null,eventNameChange:null,defaultList:null,currentList:null,current:null,defaultPlatform:null,$doc:$(document),platformExceptions:null,init:function(a){this.Mediator=a.Mediator,this.eventNameChange=a.eventNameChange,this.defaultList=a.defaultPlatformList,this.currentList=this.defaultList,this.current=a.current,this.defaultPlatform=a.defaultPlatform,this.platformExceptions=a.platformExceptions},updateList:function(a){var b=this.platformExceptions[a];this.currentList=b?this.defaultList.filter(function(a){return-1===b.indexOf(a)}):this.defaultList,-1===this.currentList.indexOf(this.current)&&this.setCurrent(this.defaultPlatform)},getList:function(){return this.currentList},getUnavailableList:function(){var a=this.currentList;return this.defaultList.filter(function(b){return-1===a.indexOf(b)})},getCurrent:function(){return this.current},setCurrent:function(a){this.current=a,this._publish()},_publish:function(){this.Mediator.publish(this.eventNameChange,this.current)}},window.overwatch=window.overwatch||{},window.overwatch.PrimaryRetailerModel={Mediator:null,eventNameChange:null,retailerMap:null,currentRetailer:null,platformMap:null,$doc:$(document),init:function(a){this.eventNameChange=a.eventNameChange,this.retailerMap=a.retailerMap,this.currentRetailer=a.currentRetailer,this.platformMap=a.platformMap,this.Mediator=a.Mediator},getCurrentRetailer:function(){return this.currentRetailer},setCurrentRetailerByPlatformAndSkuIdAndCountryCode:function(a,b,c){var d=null,e=this.platformMap[a].shopName||this.platformMap[a].name,f=this.retailerMap[a]||{},g=this._getRetailerUrl(f,b,c);g&&(d={name:e,platform:f.platform,href:g}),this.setCurrentRetailer(d)},setCurrentRetailer:function(a){this.currentRetailer=a,this._publish()},_getRetailerUrl:function(a,b,c){var d=null;return"ORIGINS"===b&&a.countryLinkOrigins&&a.countryLinkOrigins[c]?d=a.countryLinkOrigins[c]:"BASIC"===b&&a.countryLinkBasic&&a.countryLinkBasic[c]?d=a.countryLinkBasic[c]:"COLLECTORS"===b&&a.countryLinkCollectors&&a.countryLinkCollectors[c]?d=a.countryLinkCollectors[c]:a.skuLinks&&(d=a.skuLinks[b]),d},_publish:function(){this.Mediator.publish(this.eventNameChange,this.currentRetailer)}},window.overwatch.SecondaryRetailerModel={Mediator:null,eventNameChange:null,retailerMap:null,currentRetailers:null,$doc:$(document),init:function(a){this.Mediator=a.Mediator,this.eventNameChange=a.eventNameChange,this.retailerMap=a.retailerMap,this.currentRetailers=a.currentRetailers||[]},getCurrentRetailers:function(){return this.currentRetailers},setCurrentRetailersByCountryCodeAndSkuIdAndPlatform:function(a,b,c){var d=this.retailerMap[a]||[];d=d.filter(function(a){return null===a.platform||a.platform===c}).filter(function(a){var c=a.skuLinks[b];return void 0!==c}).map(function(a){return{name:a.name,href:a.skuLinks[b]}}),0===d.length&&(d=null),this.setCurrentRetailers(d)},setCurrentRetailers:function(a){this.currentRetailers=a,this._publish()},_publish:function(){this.Mediator.publish(this.eventNameChange,this.currentRetailers)}},function(a,b,c){var d=c(b),e=c(".learn-more-tip-container");d.on("ready",function(){function a(){b=0,d.off("scroll.learnmore"),e.velocity("fadeOut",{duration:200,easing:"easeOutQuart",complete:function(){e.detach()}})}var b=1;e.on("click",function(d){if(d.preventDefault(),b){var e=c(".detail.active");e.velocity("scroll",{duration:200,easing:"easeOutQuart"}),a()}})})}(window,window.document,window.jQuery),window.overwatch=window.overwatch||{},window.overwatch.SkuModel={Mediator:null,eventNameChange:null,countrySkuMap:null,currentList:null,current:null,currentIndex:null,$doc:$(document),init:function(a){this.Mediator=a.Mediator,this.eventNameChange=a.eventNameChange,this.countrySkuMap=a.countrySkuMap,this.currentList=a.currentList,this.setCurrentById(a.defaultId)},getCurrent:function(){return this.current},getPrevious:function(){var a=this._mod(this.currentIndex-1,this.currentList.length);return this.currentList[a]},getNext:function(){var a=this._mod(this.currentIndex+1,this.currentList.length);return this.currentList[a]},getCurrentById:function(a){for(var b=this.currentList.length-1;b>=0;b--){var c=this.currentList[b];if(c.id===a)return c}},setCurrent:function(a){this.current=a,this.currentIndex=this.currentList.indexOf(a),this._publish()},setCurrentById:function(a){var b=this.getCurrentById(a);this.setCurrent(b)},updateList:function(a){this.currentList=this.countrySkuMap[a],this.setCurrentById(this.current.id)},_publish:function(){this.Mediator.publish(this.eventNameChange,this.current)},_mod:function(a,b){return(a%b+b)%b}},function(a,b,c){function d(b){function d(){var b=f.data("ytId");if(g.mobile()||g.touch()){f.toggleClass("active",!0);{c("<iframe/>",{attr:{width:"100%",height:"100%",allowFullScreen:!0,frameBorder:0,src:"https://www.youtube.com/embed/"+b+"?"+c.param(e)}}).appendTo(f)}}else{{var d=c("<div/>").appendTo(f);new a.YT.Player(d[0],{videoId:b,playerVars:e,events:{onReady:function(a){f.on("click",function(){a.target.playVideo(),f.toggleClass("active",!0)})}}})}f.on("click",function(a){a.preventDefault(),f.toggleClass("active",!0)})}}var e={rel:0,autoplay:0,autohide:1,controls:1,modestbranding:1,showinfo:0,version:3,enablejsapi:1,wmode:"opaque"},f=b.$videoTrailer,g=a.overwatch.util;a.onYouTubeIframeAPIReady=function(){d()}}a.overwatch.OriginsTrailers={init:d}}(window,window.document,window.jQuery),function(a){function b(){c++,$.get("/"+a.blizzard.urlLocale+"/blog/next-posts",{page:c}).then(function(a){return $(".blog-roll .blog-list").append(a.content),a.totalPages==a.page?($(".blog-load-more").hide(),!1):void 0})}$(".blog-load-more a").click(b);var c=1}(window,window.overwatch),function(a,b,c){b.buy=b.buy||{},b.buy.init=function(){function d(a,b,d){var e=Z[b],f=e[d]||e.base;a.html(f).find("[data-sku-change]").on("click",function(){x.setCurrentById(c(this).attr("data-sku-change"))})}function e(){for(var a=z.current,b=x.current.price,c=0;c<$.length;c++)"pc"===a&&b?$[c].$parent.append($[c].$elem):$[c].$elem.detach()}function f(a){P.html(a)}function g(a){R.filter("[value='"+a+"']").prop("checked",!0)}function h(a){var b=null!==a;b?(ea.detach(),K.append(M),M.attr("href",a.href),M.find("span").text(a.name)):(d(ea,"digital"),K.append(ea),M.detach())}function i(a){var b=null!==a&&a.length;if(b){var c=p(a);fa.detach(),N.empty(),N.append(c)}else N.empty(),d(fa,"physical",x.current.id.toLowerCase()),L.append(fa)}function j(a){I.removeClass(X),I.filter("[data-sku-display='"+a.id+"']").addClass(X)}function k(a){F.removeClass("m-active"),F.filter("[data-sku-change='"+a.id+"']").addClass("m-active")}function l(a,b){G.attr("data-sku-change",a.id),H.attr("data-sku-change",b.id),G.find(".nav-pager-thumb-custom-text").html(a.id),H.find(".nav-pager-thumb-custom-text").html(b.id)}function m(a,b){T.removeClass(X),R.prop("disabled",!1),R.each(function(d,e){var f=e.value;if(-1!==a.indexOf(f)){e.setAttribute("disabled",!0);var g=c(e).siblings(".platform-warning");g.addClass(X),g.find(U).text(b.id),g.find(V).text("Overwatch: Origins Edition").click(function(){x.setCurrentById("ORIGINS"),z.setCurrent(f),event.preventDefault?event.preventDefault():event.returnValue=!1})}})}function n(){var a=b.PlatformModel.currentList;if(1===a.length){var c=a[0];z.setCurrent(c);for(var e in ha)e!==c?ha[e].detach():ga.append(ha[e]);d(ja,"platform",c),ga.append(ja)}else for(var e in ha)ja.detach(),ga.append(ha[e])}function o(){var a=y.current;la.text(aa.find("option[value="+a+"]").text())}function p(b){var c=document.createDocumentFragment();b=a.app.util.shuffleArray(b);for(var d=0;d<b.length;d++){var e=b[d],f=document.createElement("li");f.className="link-list-item";var g=document.createElement("a");g.className="link-list-link",g.setAttribute("href",e.href),g.setAttribute("target","_blank"),g.textContent=e.name,f.appendChild(g),c.appendChild(f)}return c}function q(a,b){w.css("position",a?"fixed":"static"),w.css("top",a?-b:"auto"),a||u.scrollTop(b)}function r(b){var c=x.getCurrent(),d=z.getCurrent(),e=y.getCurrent(),f="product:"+c.id+" - platform:"+d+" - country:"+e;a.dataLayer&&a.dataLayer.push({"analytics.eventPanel":f,"analytics.eventPlacement":b,event:"buyBar"})}function s(b,c){var d=x.getCurrent(),e=z.getCurrent(),f="product:"+d.id+" - platform:"+e;a.dataLayer&&a.dataLayer.push({"analytics.eventPanel":f,"analytics.eventPlacement":b+" > "+c,event:"buyCountrySwitch"})}var t=a.ow.buyConfig,u=c(a),v=c(document),w=c("body"),x=a.overwatch.SkuModel,y=a.overwatch.CountryModel,z=a.overwatch.PlatformModel,A=a.overwatch.PrimaryRetailerModel,B=a.overwatch.SecondaryRetailerModel,C=a.overwatch.BuyMediator,D=a.overwatch.OriginsTrailers,E={pc:"Battle.net Shop","xbox-one":"Microsoft Store",ps4:"PlayStation Store"};x.init({eventNameChange:"ow.sku.change",countrySkuMap:t.skus,currentList:t.skus[t.defaultCountry],defaultId:t.defaultSkuId,Mediator:C}),y.init({eventNameChange:"ow.country.change",current:t.defaultCountry,Mediator:C}),z.init({eventNameChange:"ow.platform.change",defaultPlatformList:Object.keys(t.platformMap),platformMap:t.platformMap,current:t.defaultPlatform,defaultPlatform:"pc",platformExceptions:{BASIC:["xbox-one","ps4"]},Mediator:C}),A.init({eventNameChange:"ow.retailer-primary.change",retailerMap:t.primaryRetailerMap,platformMap:t.platformMap,currentRetailer:t.primaryRetailerMap[t.defaultPlatform],Mediator:C}),B.init({eventNameChange:"ow.retailer-secondary.change",retailerMap:t.secondaryRetailerMap,currentRetailers:t.secondaryRetailerMap[t.defaultCountry],Mediator:C}),C.init({Sku:x,Country:y,Platform:z,PrimaryRetailer:A,SecondaryRetailer:B}),D.init({$videoTrailer:c(".video-wrap")});for(var F=c(".nav-tabs-item[data-sku-change]"),G=c(".nav-pager-left"),H=c(".nav-pager-right"),I=c("[data-sku-display].is-showable-block"),J=c(".retailer-menu-btn, .mobile-retailer-menu-btn, .js-close"),K=c(".retailer-wrap.digital"),L=c(".retailer-wrap.physical"),M=K.find(".primary-retailer-btn"),N=L.find(".link-list"),O=c(".price-preview"),P=c(".price, .js-price"),Q=c(".order-form"),R=(c(".order-form fieldset"),c(".order-form .radio-list-item input[type='radio']")),S=c(".js-product-splash"),T=c(".platform-warning"),U=".js-platform-warning-label-platform-unsupported",V=".js-platform-warning-label-redirect",W=!1,X="active",Y=0,Z=a.ow.errorMessages.buy,$=[],_=0;_<P.length;_++)$.push({$elem:c(P[_]),$parent:c(P[_]).parent()});J.click(function(a){W=!W,v.trigger(W?"ow.buy.form.show":"ow.buy.form.hide"),a.preventDefault?a.preventDefault():a.returnValue=!1}),c(".blackout.js-close").click(function(){r("Close - Background")}),c(".close.x.js-close").click(function(){r("Close - X")}),K.on("click",".primary-retailer-btn",function(){var a=E[z.getCurrent()];r("Click - "+a)}),L.on("click",".link-list-link",function(){var a=this.textContent;r("Click - Retail - "+a)}),v.on("ow.buy.form.show",function(){W=!0,Y=u.scrollTop(),q(!0,Y),c(".buy-bar-container").addClass("open"),Q.addClass(X),O.addClass(X),r("Open")}),v.on("ow.buy.form.hide",function(){W=!1,q(!1,Y),c(".buy-bar-container").removeClass("open"),Q.removeClass(X),O.removeClass(X)});var aa=c(".js-country-select");aa.on("change",function(){var a=c(this).val(),b=y.getCurrent();y.setCurrent(a);var d=y.getCurrent();s(b,d)});var ba=c("[data-sku-change]");ba.click(function(a){var b=c(this).attr("data-sku-change");x.setCurrentById(b),a.preventDefault?a.preventDefault():a.returnValue=!1}),R.click(function(){var a=c(this).val();z.setCurrent(a)});var ca=null,da=c("body, .buy-bar");C.on("ow.sku.change",function(a){var b=x.getPrevious(),c=x.getNext();da.toggleClass(a.id.toLowerCase(),!0),ca&&ca!==a&&da.toggleClass(ca.id.toLowerCase(),!1),f(a.price),j(a),k(a),l(b,c);var d=z.getUnavailableList();m(d,a),e(),ca=a}),C.on("ow.retailer-primary.change",function(a){h(a)}),C.on("ow.retailer-secondary.change",function(a){i(a)}),C.on("ow.platform.change",function(a){g(a),S.attr("data-platform-display",a),e()});var ea=c('<div class="error-msg"></div>'),fa=c('<div class="error-msg"></div>');i(b.SecondaryRetailerModel.currentRetailers);for(var ga=c(".buy-bar .radio-list"),ha={},ia=b.PlatformModel.defaultList,ja=c('<li class="radio-list-item error-msg"></li>'),_=0;_<ia.length;_++){var ka=ia[_];ha[ka]=R.filter("[value="+ka+"]").parent()}var la=c(".custom-select .select-title .text");o(),C.on("ow.sku.change",function(){n()}),C.on("ow.country.change",function(){o(),n()}),z.setCurrent(t.defaultPlatform);var ma=aa.find("option"),na=ma.sort(function(a,b){return a.text.charAt(0).toLowerCase().charCodeAt(0)-b.text.charAt(0).toLowerCase().charCodeAt(0)});aa.empty().append(na)}}(window,window.overwatch,window.jQuery),!function(a,b){b(a,a.app,a.overwatch,a.jQuery)}(this,function(a,b,c,d){function e(){function c(){var a=e.getBoundingClientRect();a.top<=a.height/2&&(g||(g=1,e.play()))}var e=d("#scroll-to-play")[0],g=0;d(a.document).on("scroll resize",_.throttle(c,32)),d(".overwatch-trailer").on("click",function(a){var c=d(this).attr("data-yt-id");f.mobile()||f.touch()||(a.preventDefault(),b.helpers.loadVideoIntoFrame(c))}),c(),a.Maps.init()}var f=c.util;b.extend({game:{init:e}})}),function(a,b,c){document.exitFullscreen=document.exitFullscreen||document.mozCancelFullscreen||document.webkitExitFullscreen||_.noop,a.Login={open:function(){a.location="?login"}},c.init({$menuMainWrap:$(".menu-main-wrap"),$menuMain:$(".menu-main"),$socialMenuMain:$(".menu-social.desktop-only"),$menuMainPin:$(".menu-main-wrap .menu-main-pin"),$buyButtonWrap:$(".erebos-button-container"),menuMainThreshold:100,hiddenClass:"menu-hidden",fixedClass:"is-fixed"}),YtEmbedder.init(),$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",function(){var a=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||null;$(document.body).toggleClass("is-fullscreen",a)})}(window,window.overwatch,window.MainMenu),function(a,b,c,d,e){var f={};f.setupMediaEvents=function(){d(".media-thumbnail").on("click",function(){var a=d(this).data("media-type");switch(a){case"youtube":var c=d(this).data("yt-id");b.helpers.loadVideoIntoFrame(c);break;case"img":b.helpers.loadImageIntoFrame(d(this).attr("href"));break;default:return!0}return!1})},f.loadTabs=function(){var b=a.location.hash.substr(1),c=d("#details"),e=c.find(".hero-detail-video"),f=c.find(".hero-detail-background"),g=d("#details-tabs");this.tabs=new Foundation.Tabs(g),g.on("change.zf.tabs",function(){var a=d(this).find('[aria-selected="true"]'),b=a.attr("aria-controls");"story"===b?(e.removeClass("is-active"),f.addClass("is-active")):(e.addClass("is-active"),f.removeClass("is-active"))}),b&&this.tabs.selectTab("#"+b)},f.loadShowcase=function(){var b=d(".ability-showcase"),f=new c.AbilityShowcase(".ability-showcase"),g=!1,h=!1,i=e.debounce(function(){var a=b.is(":visible");a&&!g?(f.init(),g=!0,h=!0):a&&!h?(f.play(),h=!0):a||(f.stop(),h=!1)},250);d(a).on("resize",i),i()},f.init=function(){this.setupMediaEvents(),this.loadTabs(),this.loadShowcase()},b.extend({hero_details:f})}(window,window.app,window.overwatch,window.jQuery,window._),function(a,b,c){var d={};d.init=function(){c.HeroSelector.init({$container:$("#heroes-selector-container"),$sizer:!1,$navigationLinks:$("#hero-selector-navigation-selector .navigation-link"),itemSelector:"#heroes-selector-container .hero-portrait-detailed-container"});var a=location.href.substr(location.href.indexOf("#")+1).toUpperCase();-1!==["OFFENSE","DEFENSE","TANK","SUPPORT"].indexOf(a)&&c.HeroSelector.filter(a)},b.extend({heroes:d})}(window,window.app,window.overwatch),function(a,b,c,d,e){var f={},g=c.util,h="is-active",i=function(){var a,b=document.createElement("fakeelement"),c={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(a in c)if(void 0!==b.style[a])return c[a];return!1}();f.registerSpotlight=function(b){function f(a){if(l.is(":visible")){var b=d(this),c=b.data(),e=c.heroImage,f=c.heroName,i=c.heroDescription;b.addClass(h),j!==f&&(k&&k.removeClass(h),g.loadImage(e,function(){g.setHeader(f),g.setCaption(i)}),k=b,j=f,a.preventDefault())}}var g=new c.Spotlight(b),i=d(".js-hero-portrait-group"),j="",k=null,l=d(b);i.on("mouseenter touchend",".hero-portrait",f);var m=i.find(".hero-portrait").first();m.trigger("mouseenter");var n=e.debounce(function(){l.is(":visible")?(k=k||m,k.trigger("mouseenter")):i.find(".hero-portrait").removeClass(h)},250);d(a).on("resize",n)},f.trailerSetup=function(){d(".intro-trailer, .video-cta").on("click",function(a){var c=d(this).data("yt-id");g.mobile()||g.touch()||(a.preventDefault(),b.helpers.loadVideoIntoFrame(c))})},f.rotatingCTA=function(){var a=d(".buy-cta .btn-art"),b=1,c=0,e=function(b){d(a[b]).removeClass("trans-out").addClass("trans-in")},f=function(b){d(a[b]).removeClass("trans-in").addClass("trans-out")};d.each(a,function(g,h){d(h).on(i,function(){d(this).hasClass("trans-in")&&(b=g+1>a.length-1?0:g+1,c=g,f(c),e(b))})}),i!==!1&&setTimeout(function(){a.removeClass("fallback"),e(b),f(c)},3e3)},f.fftfBGTransition=function(){var a=d(".bg-fftf"),b=0,c=2,e=function(b){d(a[b]).removeClass("trans-out").addClass("trans-in")},f=function(b){d(a[b]).removeClass("trans-in").removeClass("trans-out").addClass("trans-out-latest")};d.each(a,function(g,h){d(h).on(i,function(){d(this).hasClass("trans-in")&&(b=g+1>a.length-1?0:g+1,c=g,a.removeClass("trans-out-latest").addClass("trans-out"),f(c),e(b))})})},f.init=function(){Array.prototype.forEach.call(document.querySelectorAll(".spotlight"),this.registerSpotlight),this.trailerSetup(),this.rotatingCTA(),this.fftfBGTransition()},b.extend({home:f})}(window,window.app,window.overwatch,window.jQuery,window._),function(a,b){var c={};c.init=function(){b.menuScroll.init({menuSelector:"#sub-nav-menu",timeToHideMs:5e3})},c.init(),app.extend({media:c})}(window,window.overwatch,window.Media,window.MediaLightbox,window.SecondaryMenu);